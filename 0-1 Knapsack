/*

0-1 Knapsack Problem

*/
#include <bits/stdc++.h>
using namespace std;

int knapsackSolution(vector<int> weights, vector<int> value, int maxWeight, int numOfItems){
    vector <int> initializeKnapsack(maxWeight,0);
    vector<vector<int>> knapsackTable(numOfItems, initializeKnapsack);
    for(int curItem = 0; curItem < numOfItems; curItem++){
        for(int curWeightPos = 0; curWeightPos < maxWeight; curWeightPos++){
            if(!curWeightPos || !curItem){
                continue;
            }
            int nextVal = max(knapsackTable[curItem - 1][curWeightPos], knapsackTable[curItem][curWeightPos - 1]);
            if(curWeightPos - weights[curItem] >= 0){
                nextVal = max(nextVal, knapsackTable[curItem - 1][curWeightPos - weights[curItem]] + value[curItem]);
            }
            knapsackTable[curItem][curWeightPos] = nextVal;
        }
    }
    return(knapsackTable[numOfItems - 1][maxWeight - 1]);
}

int main(){
    int maxWeight, numOfItems, input[2];
    vector<int> weights(1, 0), value(1, 0);
    cin>>maxWeight>>numOfItems;
    for(int i = 0; i < numOfItems; i++){
        cin>>input[0]>>input[1];
        weights.push_back(input[0]);
        value.push_back(input[1]);
    }
    cout<<"The largest possible value is: "<<knapsackSolution(weights, value, ++maxWeight, ++numOfItems)<<".\n";
}
